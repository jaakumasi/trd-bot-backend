# ===========================================
# TRD Bot Backend - Environment Configuration
# ===========================================

# Database Configuration
DATABASE_URL=postgresql://user:password@localhost:port/db

# ===========================================
# Binance API Keys
# ===========================================

# MAINNET Keys (PRODUCTION - REAL MONEY)
BINANCE_API_KEY=mainnet_api_key
BINANCE_SECRET_KEY=mainnet_secret_key

# TESTNET Keys (TESTING - FAKE MONEY)
TESTNET_BINANCE_API_KEY=testnet_api_key
TESTNET_BINANCE_SECRET_KEY=testnet_secret_key

# ===========================================
# AI Configuration
# ===========================================

# Google Gemini API Key (for AI market analysis)
GEMINI_API_KEY=gemini_api_key

# ===========================================
# Trading Mode Configuration
# ===========================================

# TRADING_MODE controls API selection, execution mode, and quality thresholds
# Options:
#   - mock            : Mock Binance service, no real API calls (local development)
#   - testnet         : Binance testnet API, fake money, lenient thresholds (safe testing)
#   - paper_mainnet   : Mainnet API data, simulated trades, STRICT thresholds (realistic testing)
#   - live_mainnet    : Live mainnet trading with REAL MONEY, STRICT thresholds (PRODUCTION)
TRADING_MODE=testnet

# Market Regime Filter Mode
# Options: strict | balanced | permissive | day_trading
REGIME_FILTER_MODE=day_trading

# ===========================================
# Trading Quality Configuration
# ===========================================

# Trading Profile (affects confluence thresholds)
# Options: strict (+10 to confluence) | normal (default) | permissive (-5 to confluence)
# Recommendation: Use "strict" on mainnet, "normal" on testnet
TRADING_PROFILE=normal

# Allow AI to override quality filters with high confidence
# Set to false for maximum safety on mainnet
AI_OVERRIDE_ENABLED=true

# Minimum confluence threshold for trades (0-100)
# Note: paper_mainnet and live_mainnet modes enforce minimum 65 regardless of this setting
MIN_CONFLUENCE_THRESHOLD=60

# Fee estimate percentage for P&L calculations
# Default: 0.001 (0.1% - standard Binance fee)
# Adjust for VIP tiers: 0.00075 (VIP1), 0.0005 (VIP2), etc.
FEE_ESTIMATE_PCT=0.001

# ===========================================
# Infrastructure
# ===========================================

# Redis URL for caching and rate limiting
REDIS_URL=redis://localhost:6379

# CORS Origins (comma-separated or JSON array)
CORS_ORIGINS=http://localhost:5000,https://abc.app

# ===========================================
# Security
# ===========================================

# JWT Secret for authentication (generate random string)
JWT_SECRET=super-secret-jwt-key

# JWT Token expiration in seconds (default: 1 hour)
JWT_EXPIRATION=3600

# ===========================================
# Trading Hours (24/7 for crypto)
# ===========================================

TRADING_ACTIVE_HOURS_START=00:00
TRADING_ACTIVE_HOURS_END=23:59

# ===========================================
# Notes on Per-Asset ATR Thresholds
# ===========================================
# ATR thresholds are now configured per-asset in code (service_constants.py)
# Current supported assets with custom thresholds:
#   - BTCUSDT: min=0.40%, optimal=0.50-1.20%
#   - ETHUSDT: min=0.50%, optimal=0.60-1.50%
#   - BNBUSDT: min=0.50%, optimal=0.60-1.40%
#   - ADAUSDT: min=0.60%, optimal=0.80-2.00%
#   - SOLUSDT: min=0.80%, optimal=1.00-2.50%
#   - DOTUSDT: min=0.60%, optimal=0.80-2.00%
#
# To add new assets, update PER_ASSET_ATR_THRESHOLDS in:
# app/services/service_constants.py
